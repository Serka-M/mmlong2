## Frequently asked questions about mmlong2

#### Will my sequencing data work with mmlong2?
* It is very situational whether mmlong2 is a good fit for your samples or project, but generally, the workflow is intended for highly complex metagenomes (e.g. soil, sewage sludge, human gut) and is not optimal for samples with very low microbial diversity (e.g. pure cultures, Zymo Mock DNA Standard).
* Please keep in mind that mmlong2 is a long-reads-only workflow, designed to work with Nanopore (about 1 % read error rate) or with PacBio HiFi (about 0.1 % read error rate) datasets. Short-read datasets can be used for mapping to improve genome recovery via differential coverage binning, but the workflow is not designed for short-read metagenomic assembly.
* It is highly recommended that the input for mmlong2 would be at least 1 GB of sequencing data with multiple prokaryotic organisms.

#### Are there special hardware or software requirements?
* In general, mmlong2 is designed to be used on HPC clusters with ≥100 CPU cores and ≥300 GB of RAM allocated per workflow run.
* The metagenomic assembly and binning sections of the workflow can be compute intensive and might take several days to weeks to complete.
* The mmlong2 workflow has been developed and tested on HPC nodes (Slurm cluster and bare metal) running on Ubuntu 22.04.
* Since mmlong2 uses many software dependencies and databases, it is recommended to consult your server admin about installing the worklfow.

#### Is read data pre-processing required by the workflow?
* It is highly recommended to perform read quality filtering (e.g. remove reads with less than Phred Q10 for Nanopore and Phred Q20 for PacBio HiFi or short-reads) before running mmlong2.
* Trimming off read adaptor and barcode sequences as well as filtering out very short reads (e.g. below 200 bp for Nanopore or PacBio data) can also improve genome recovery.

#### Is there a way to test mmlong2 without downloading over 100 Gb of databases?
* If you are only interested in recovering microbial genomes, check out [mmlong2-lite](https://github.com/Serka-M/mmlong2-lite), which is a lightweight version of the pipeline that provides an identical prokaryotic genome recovery workflow without requiring large database installation.

#### How were the estimated installation and run times calculated?
* The ETAs reported in the `README` reflect the time it took us to fully set up and run the pipeline on our compute cluster.
* Please note that installation and run times may vary depending on the server read/write speeds and the network connection speed to the servers hosting the containers and databases.

#### Which metagenomic assembler should I pick?
* The choice of assembler is situational and can depend on your sequenced sample and read type.
* By default, mmlong2 runs metaFlye, which has been the standard long-read metagenome assembler for several years.
* That said, both developers of [myloasm](https://doi.org/10.1101/2025.09.05.674543) and [metaMDBG](https://doi.org/10.1101/2025.04.22.649928) claim superior assembly metrics over metaFlye.
* Furthermore, benchmarking by other groups ([paper 1](https://doi.org/10.1093/bioinformatics/btaf474), [paper 2](https://doi.org/10.1101/2025.04.22.649783)) demonstrated that myloasm and metaMDBG may feature increased rates of misassemblies.
* Although mmlong2 provides the option for assembling metagenomes with myloasm or metaMDBG, which can result in much higher MAG yields than with metaFlye, users should be aware that these new assemblers carry a higher risk of misassemblies in the recovered genomes.

#### What is the difference between the binning modes?
* Currently, mmlong2 features 3 binning modes: `fast`, `default`, and `extended`.
* The `fast` mode runs metagenomic binning with SemiBin2.
* The `default` mode bins contigs with SemiBin2, VAMB, MetaBAT2, and then performs ensemble binning with Binette.
* The `extended` mode performs iterative binning with SemiBin2, VAMB, MetaBAT2, COMEBin, and Binette. This is the most computationally intensive binning mode, which usually yields the most MAGs from complex samples.
* All binning modes feature the separate recovery of single-contig genomes (circular and linear) and offer the option for differential coverage binning.

#### Is it possible to avoid temporary files generated by the workflow?
* During a workflow run, temporary files might be generated and not deleted by Snakemake when the run finishes.
* It is recommended to have a directory dedicated to temporary files and provide it to mmlong2 through the `--temporary_dir` option.

#### What should be done when mmlong2 crashes?
* If the workflow crashes, try inspecting the Stdout and Snakemake logs for troubleshooting.
* The workflow can usually be resumed by re-running the same commands. 
* If you want to resume the workflow from a new installation of mmlong2, it is highly recommended to first run the workflow with the `--touch` option to prevent existing files from being deleted.
* If the workflow keeps crashing after several retries, feel free to post the error logs in the GitHub `Issues` section.

#### Can I run the automated analysis modules with custom genomes?
* Although it is possible to run the genome analysis section with a custom set of genomes by mimicking the workflow directory structure, this is quite technical to achieve and might lead to compatibility issues.
* A more streamlined method for providing custom genomes to the workflow will be part of a future release.

#### What about eukaryotic or viral genomes?
* At the moment, mmlong2 does not feature recovery of viral or eukaryotic genomes. 
* Expansion of the binning features, however, is planned for future releases.

[//]: # (Written by Mantas Sereika)
